---
// FAQ Component with accordion functionality and SEO structured data
interface FAQItem {
  question: string;
  answer: string;
  category?: string;
}

const faqs: FAQItem[] = [
  {
    question: "What is 3D laser scanning and how does it work?",
    answer: "3D laser scanning uses advanced LiDAR technology to capture millions of precise data points from a physical space or object. Our scanners emit laser beams that bounce back to create a detailed 3D point cloud, which we then convert into accurate 3D models, BIM files, or virtual tours. This technology allows us to capture complex geometries and spaces with millimeter-level accuracy in a fraction of the time traditional surveying methods require.",
    category: "General"
  },
  {
    question: "How accurate are your 3D scans?",
    answer: "Our 3D laser scanning services achieve accuracy levels of ±1cm (0.4 inches) or better, depending on the project requirements. We use the latest 2025 equipment including high-resolution scanners and professional-grade drones to ensure the highest precision possible. For critical projects, we can achieve even higher accuracy levels upon request.",
    category: "Accuracy"
  },
  {
    question: "What is the typical turnaround time for a project?",
    answer: "We offer 24-hour turnaround for standard projects, making us one of the fastest 3D scanning services in the industry. Rush projects can be completed even faster. Complex projects requiring extensive BIM modeling may take 3-5 business days. We'll provide a specific timeline during your initial consultation based on project scope and requirements.",
    category: "Timeline"
  },
  {
    question: "Do you serve locations outside of Florida, NYC, and California?",
    answer: "Yes! We serve all 50 states across the United States. While we have strong presence in Florida, New York City, and California, our mobile scanning teams can travel anywhere in the country. We've completed projects from coast to coast, including remote locations. Contact us to discuss your specific location and we'll coordinate logistics.",
    category: "Service Area"
  },
  {
    question: "What file formats do you deliver?",
    answer: "We deliver files in all standard formats including: RCP, RCS, E57, PTX, PTS, LAS, PLY, OBJ, FBX, IFC, DWG, DXF, PDF, and more. For BIM projects, we provide Revit (.rvt), Navisworks (.nwd), and IFC files. Virtual tours are delivered in Matterport format or custom web-based viewers. We'll work with you to ensure compatibility with your existing software and workflows.",
    category: "Deliverables"
  },
  {
    question: "What is the difference between 3D scanning and traditional surveying?",
    answer: "3D laser scanning captures millions of data points in minutes, creating a complete 3D representation of the entire space. Traditional surveying measures individual points one at a time, which is much slower and can miss details. Scanning provides comprehensive documentation, reduces field time by up to 80%, and creates a permanent digital record that can be revisited and measured later without returning to the site.",
    category: "General"
  },
  {
    question: "Can you scan outdoor sites and large areas?",
    answer: "Absolutely! We specialize in both indoor and outdoor scanning, including large-scale construction sites, building exteriors, infrastructure projects, and landscapes. Our drone-mounted LiDAR systems can efficiently capture large areas from the air, while our ground-based scanners handle detailed interior and exterior work. We've scanned everything from single rooms to entire campuses.",
    category: "Capabilities"
  },
  {
    question: "What industries do you serve?",
    answer: "We serve a wide range of industries including construction, architecture, engineering, real estate, insurance, manufacturing, historic preservation, and more. Our services are used for as-built documentation, quality control, progress monitoring, virtual property tours, insurance claims, renovation planning, and facility management. If you have a specific industry need, contact us to discuss how we can help.",
    category: "Industries"
  },
  {
    question: "How much does 3D scanning cost?",
    answer: "Pricing varies based on project size, complexity, location, and deliverables required. Small interior spaces typically start around $500-1,500, while large commercial or industrial projects range from $2,000-10,000+. BIM modeling adds additional costs based on LOD (Level of Detail) requirements. We provide free quotes within 24 hours. Contact us with your project details for an accurate estimate.",
    category: "Pricing"
  },
  {
    question: "Do you provide BIM modeling services?",
    answer: "Yes! We offer comprehensive 3D scan-to-BIM services, converting point cloud data into intelligent BIM models in Revit, ArchiCAD, or other BIM software. We create models at various LOD levels (100-500) depending on your needs. Our BIM team includes certified professionals who understand construction documentation standards and can deliver models ready for design, construction, or facility management use.",
    category: "BIM"
  },
  {
    question: "What equipment do you use?",
    answer: "We use the latest 2025 technology including high-resolution terrestrial laser scanners (Leica, Faro, Trimble), professional-grade drones with LiDAR payloads, 360° cameras for virtual tours, and Matterport Pro3 cameras. Our equipment is regularly calibrated and maintained to ensure optimal performance. We stay current with technology upgrades to provide the best possible results for our clients.",
    category: "Equipment"
  },
  {
    question: "Can I view the scan data before final delivery?",
    answer: "Yes! We provide access to a secure online portal where you can view point cloud data, progress updates, and preliminary models throughout the project. This allows you to review work in progress, provide feedback, and ensure we're meeting your expectations before final delivery. You'll receive login credentials once your project begins.",
    category: "Process"
  }
];
---

<section class="py-16 lg:py-24 bg-gray-50" id="faq">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-3xl lg:text-4xl font-bold text-gray-900 mb-4">
        Frequently Asked Questions
      </h2>
      <p class="text-gray-600 max-w-2xl mx-auto">
        Get answers to common questions about our 3D scanning, BIM, and drone inspection services
      </p>
    </div>

    <div class="max-w-3xl mx-auto">
      <div class="space-y-4" id="faq-accordion">
        {faqs.map((faq, index) => (
          <div class="bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-300">
            <button
              class="w-full px-6 py-5 text-left flex items-center justify-between focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset"
              aria-expanded="false"
              aria-controls={`faq-answer-${index}`}
              id={`faq-question-${index}`}
              data-faq-index={index}
            >
              <span class="font-semibold text-gray-900 pr-8">{faq.question}</span>
              <svg
                class="w-5 h-5 text-blue-600 flex-shrink-0 transition-transform duration-300"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </button>
            <div
              id={`faq-answer-${index}`}
              class="hidden px-6 pb-5 text-gray-600 leading-relaxed"
              role="region"
              aria-labelledby={`faq-question-${index}`}
            >
              {faq.answer}
            </div>
          </div>
        ))}
      </div>
    </div>

    <div class="text-center mt-12">
      <p class="text-gray-600 mb-4">Still have questions?</p>
      <a
        href="/contact"
        class="inline-flex items-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors duration-300"
      >
        Contact Us
        <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
        </svg>
      </a>
    </div>
  </div>
</section>

<!-- FAQPage Schema.org Structured Data -->
<script type="application/ld+json" set:html={JSON.stringify({
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": faqs.map(faq => ({
    "@type": "Question",
    "name": faq.question,
    "acceptedAnswer": {
      "@type": "Answer",
      "text": faq.answer
    }
  }))
}, null, 2)} />

<script>
  // Accordion functionality
  document.addEventListener('DOMContentLoaded', () => {
    const faqButtons = document.querySelectorAll('[data-faq-index]');
    
    faqButtons.forEach(button => {
      button.addEventListener('click', () => {
        const index = button.getAttribute('data-faq-index');
        const answer = document.getElementById(`faq-answer-${index}`);
        const icon = button.querySelector('svg');
        const isExpanded = button.getAttribute('aria-expanded') === 'true';
        
        // Close all other FAQs
        faqButtons.forEach(otherButton => {
          if (otherButton !== button) {
            const otherIndex = otherButton.getAttribute('data-faq-index');
            const otherAnswer = document.getElementById(`faq-answer-${otherIndex}`);
            const otherIcon = otherButton.querySelector('svg');
            otherButton.setAttribute('aria-expanded', 'false');
            otherAnswer?.classList.add('hidden');
            otherIcon?.classList.remove('rotate-180');
          }
        });
        
        // Toggle current FAQ
        if (isExpanded) {
          button.setAttribute('aria-expanded', 'false');
          answer?.classList.add('hidden');
          icon?.classList.remove('rotate-180');
        } else {
          button.setAttribute('aria-expanded', 'true');
          answer?.classList.remove('hidden');
          icon?.classList.add('rotate-180');
        }
      });
    });
  });
</script>

<style>
  [data-faq-index] svg {
    transition: transform 0.3s ease;
  }
  [data-faq-index][aria-expanded="true"] svg {
    transform: rotate(180deg);
  }
</style>

