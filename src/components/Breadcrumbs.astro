---
// Breadcrumbs Component - Displays page hierarchy navigation

interface Props {
  items: Array<{
    label: string;
    url?: string;
  }>;
}

const { items } = Astro.props;

// Don't show breadcrumbs if only Home (homepage)
if (items.length <= 1) {
  return null;
}
---

<nav aria-label="Breadcrumb" class="bg-gray-50 border-b border-gray-200">
  <div class="container mx-auto px-4 py-3">
    <ol class="flex items-center gap-2 text-sm flex-wrap" vocab="https://schema.org/" typeof="BreadcrumbList">
      {items.map((item, index) => {
        const isLast = index === items.length - 1;
        const position = index + 1;
        
        return (
          <li 
            class="flex items-center gap-2"
            property="itemListElement"
            typeof="ListItem"
          >
            {!isLast && item.url ? (
              <>
                <a
                  href={item.url}
                  property="item"
                  typeof="WebPage"
                  class="text-gray-600 hover:text-blue-600 hover:underline transition-colors focus:outline-2 focus:outline-blue-500 focus:outline-offset-2 rounded"
                >
                  <span property="name">{item.label}</span>
                </a>
                <meta property="position" content={position.toString()} />
                <svg class="w-4 h-4 text-gray-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
              </>
            ) : (
              <span 
                class="text-gray-900 font-medium"
                property="name"
              >
                {item.label}
              </span>
            )}
          </li>
        );
      })}
    </ol>
  </div>
</nav>

<script type="application/ld+json" set:html={JSON.stringify({
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": items.map((item, index) => ({
    "@type": "ListItem",
    "position": index + 1,
    "name": item.label,
    ...(item.url && { "item": `https://www.thefuture3d.com${item.url}` })
  }))
})} />


